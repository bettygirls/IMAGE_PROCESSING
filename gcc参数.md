# gcc

## 从源文件到可执行文件的生成过程

###  源文件(文本文件) ——预处理器-> 修改了的源程序（文本文件）-编译器->汇编程序(文本文件)
###  (.cpp)                           (.i)                           （.s）
###  -汇编器-> 可重定位目标程序（二进制）-链接器->可执行目标程序
###                  (.o)                         （二进制）

一个.c源程序需要经过预处理器生成.i文件，再经过编译器生成.s文件，再经过汇编器生成可重定位目标文件.o文件，
再与其他.o文件经过链接器生成最终的可执行目标程序。

#### 1.	预处理阶段。主要是处理源文件中以“#”开头的预编译指令。
          1.	删除#define并展开宏
          2.	处理所有条件预编译指令，如#if, #ifdef, #endif
          3.	插入头文件到“#include”处
          4.	删除所有注释
          5.	添加行号和文件名标识，以便编译时编译器产生调试用的行号信息
          6.	保留所有#pragma编译指令。
#### 2.	编译阶段。将预处理得到的预处理文件进行语法分析，词法分析，语义分析，优化后，生成汇编代码文件（汇编语言源程序）。
#### 3.	汇编阶段。利用汇编程序（汇编器）将汇编语言源程序转换成机器指令序列（机器语言程序）。
#### 4.	链接阶段。将多个可重定位的目标文件.o合并以生成可执行文件，其可以被加载到内存中，由系统执行。


## 参数选项

###  无选项编译链接
    gcc test.c     未指定输出文件，默认输出 a.out
###  无选项链接
    gcc test.o -o test          将编译输出文件test.o 链接成最终可执行文件test
###  -x language filename 设定文件所使用语言,使后缀名无效，对以后多个文件都起作用，直到下一个参数的使用
    gcc -x c hello.jpg
### -x non filename  关掉上一个选项，让gcc根据文件后缀名自动识别文件类型
    gcc -x c hello.jpg -x none hello2.c
    


##### DNS 协议中对TCP和UDP的选择
```
（1）若DNS客户程序事先知道响应报文的长度大于512B，则应当使用TCP连接；
  NOTICE:主域名服务器与辅助域名服务器在进行区域传送时，通常数据量都比较大，所有DNS规定，区域传送使用TCP协议。
  
（2）若解析程序不知道响应报文的长度，它一般使用UDP协议发送DNS查询报文，若DNS响应报文的长度大于512B，服务器就截断响应报文，
  在这种情况下，DNS客户程序通常使用TCP重发原来的查询请求，从而它将来能够从DNS服务器中收到完整的响应。
  
  综上所述： DNS客户程序在不知情（不知道DNS响应报文的长度是否超过512B）的情况下通常采用UDP与DNS服务器程序连接，在知情的情况下则采用TCP进行连接 。

```

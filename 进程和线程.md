

# 进程
一个进程由三个部分组成：进程控制块PCB、数据和程序。可以实现共享正文，共享数据和可重入。

##### 进程的特点
```
进程特点：动态性、并发性、独立性、异步性 
异步性：进程以各自独立的、不可预知的速度向前推进。 

```
### 进程的三个状态
```
运行  进程占用CPU 并在CPU上运行
就绪  进程已经具备运行条件，但是CPU还没有分配过来
阻塞/等待  进程因等待某件事发生而暂时不能运行
P操作是阻塞操作
V操作是唤醒操作
```
```
高优先级的抢占CPU                                          运行____ 就绪
阻塞的进程等待某件事情的发生，一旦发生                       阻塞___ 就绪
时间片轮转使得每个进程都有一小片时间来获得CPU运行，时间片到时  运行___就绪
发生IO请求或者等待某件事的发生                              运行____阻塞
运行的进程的时间片用完，调度就转到就绪队列中选择合适的进程分配CPU 就绪___运行
```
#### 引起进程创建的事件
```
1、用户登录 
2、作业调度 
3、提供服务（用户程序提出请求） 
4、应用请求（基于应用进程的需求） 

对于记录型信号量，当 s<0 的时候，请求进程会阻塞 
对于整型信号量，当s<=0的时候，请求进程不会阻塞，而是进入盲等状态

```
#### 进程查看命令
```
ps [options] [--help]    显示瞬间行程 (process) 的动态 
-A    列出所有的进程 
-w    显示加宽可以显示较多的资讯 
-au    显示较详细的资讯 
aux    显示所有包含其他使用者的行程 

```
#### 交互进程：一个由shell启动的进程，交互进程既可以在前台运行，也可以在后台运行
#### 批处理进程： 这种进程和终端没有联系，是一个进程序列
#### 监控进程（守护进程）：Linux系统启动时的启动的继承，并在后台运行

## 进程间通信的方式
  进程通信方式有三种，共享存储器系统，消息传递系统，管道通信系统，
  socket和管道都是管道通信，
  信箱通信属于消息传递通信的间接通信方式，
  共享内存应该属于共享存储器系统中的共享存储区的通信方式
  ```
Linux下进程间通信的几种主要手段简介： 
a)管道（Pipe）：即有名管道（named pipe）：
管道可用于具有亲缘关系进程间的通信，有名管道克服了管道没有名字的限制，因此，除具有管道所具有的功能外，它还允许无亲缘关系进程间的通信；

b)信号（Signal）：信号是比较复杂的通信方式，用于通知接受进程有某种事件发生，除了用于进程间通信外，进程还可以发送信号给进程本身；
linux除了支持Unix早期信号语义函数sigal外，还支持语义符合Posix.1标准的信号函数sigaction（实际上，该函数是基于BSD的，BSD为了实现可靠信号机制，又能够统一对外接口，用sigaction函数重新实现了signal函数）； 

c)Message（消息队列）：消息队列是消息的链接表，包括Posix消息队列system V消息队列。
有足够权限的进程可以向队列中添加消息，被赋予读权限的进程则可以读走队列中的消息。消息队列克服了信号承载信息量少，管道只能承载无格式字节流以及缓冲区大小受限等缺点。 

d)共享内存：使得多个进程可以访问同一块内存空间，是最快的可用IPC形式。是针对其他通信机制运行效率较低而设计的。往往与其它通信机制，如信号量结合使用，来达到进程间的同步及互斥。 

e)信号量（semaphore）：主要作为进程间以及同一进程不同线程之间的同步手段。 

f)套接口（Socket）：更为一般的进程间通信机制，可用于不同机器之间的进程间通信。
起初是由Unix系统的BSD分支开发出来的，但现在一般可以移植到其它类Unix系统上：Linux和System V的变种都支持套接字。 

  ```
## 进程间的基本关系
  进程之间的基本关系:相互独立相互制约，一个程序可以有多个进程， 一个进程已经有多个线程并且至少有一个，
  多个线程并发执行，通过同步和异步， 实现进程调度和管理已经资源分配。 线程不能独立运行
  
# 线程

#### 线程间通信
```
Linux线程间通信：互斥体，信号量，条件变量 
```

# 进程和线程的区别
## 1 进程： 子进程是父进程的复制品，子进程获得父进程数据空间，堆和栈的复制品（fork 和 clone）
## 2 线程： 
     相对与进程而言，线程是一个更加接近于执行体的概念，它可以与同进程的其他线程共享数据，但拥有自己的栈空间，拥有独立的执行序列。 
     两者都可以提高程序的并发度，提高程序运行效率和响应时间。
## 3 线程和进程在使用上各有优缺点：线程执行开销小，但不利于资源管理和保护；而进程正相反。同时，线程适合于在SMP机器上运行，而进程则可以跨机器迁移。
## 4 用多进程每个进程有自己的地址空间(address space)，线程则共享地址空间。所有其它区别都是由此而来的： 
     1、速度：线程产生的速度快，线程间的通讯快、切换快等，因为他们在同一个地址空间内。 
     2 资源利用率：线程的资源利用率比较好是因为他们在同一个地址空间内
     3 同步问题，线程使用公共变量/内存时需要利用同步机制还是因为他们在同一个地址空间内

